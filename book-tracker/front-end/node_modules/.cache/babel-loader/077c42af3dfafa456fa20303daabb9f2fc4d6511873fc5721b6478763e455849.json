{"ast":null,"code":"import _objectSpread from\"/Users/ronaddriel/Documents/CMP 343/Final Project/book-tracker/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddBookForm=_ref=>{let{onAddBook}=_ref;const[formData,setFormData]=useState({title:'',author:'',status:'',notes:''});const[message,setMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/books\"),formData)// Use environment variable\n.then(res=>{setMessage('Book added successfully!');onAddBook(res.data);// Notify parent about the new book\nsetFormData({title:'',author:'',status:'',notes:''});// Reset form\n}).catch(err=>{console.error('Error adding book:',err.response||err.message);setMessage('Error adding book');});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Author:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",value:formData.author,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"status\",value:formData.status,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Book\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default AddBookForm;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AddBookForm","_ref","onAddBook","formData","setFormData","title","author","status","notes","message","setMessage","handleChange","e","name","value","target","_objectSpread","handleSubmit","preventDefault","post","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","error","response","onSubmit","children","type","onChange","required"],"sources":["/Users/ronaddriel/Documents/CMP 343/Final Project/book-tracker/front-end/src/components/AddBookForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst AddBookForm = ({ onAddBook }) => {\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    status: '',\n    notes: ''\n  });\n\n  const [message, setMessage] = useState('');\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/books`, formData) // Use environment variable\n      .then((res) => {\n        setMessage('Book added successfully!');\n        onAddBook(res.data); // Notify parent about the new book\n        setFormData({ title: '', author: '', status: '', notes: '' }); // Reset form\n      })\n      .catch((err) => {\n        console.error('Error adding book:', err.response || err.message); \n        setMessage('Error adding book');\n      });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label>Title:</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={formData.title}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <div>\n        <label>Author:</label>\n        <input\n          type=\"text\"\n          name=\"author\"\n          value={formData.author}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <div>\n        <label>Status:</label>\n        <input\n          type=\"text\"\n          name=\"status\"\n          value={formData.status}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <div>\n        <label>Notes:</label>\n        <textarea\n          name=\"notes\"\n          value={formData.notes}\n          onChange={handleChange}\n          required\n        />\n      </div>\n      <button type=\"submit\">Add Book</button>\n      {message && <p>{message}</p>}\n    </form>\n  );\n};\n\nexport default AddBookForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}