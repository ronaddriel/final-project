{"ast":null,"code":"import _objectSpread from\"/Users/ronaddriel/Documents/CMP 343/Final Project/book-tracker/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BookEdit(){const{id}=useParams();const navigate=useNavigate();const[formData,setFormData]=useState({title:'',author:'',status:'',notes:''});const[error,setError]=useState('');// Fetch the book data to edit\nuseEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/books/\").concat(id))// Use environment variable\n.then(res=>{setFormData(res.data);// Populate the form with the book data\n}).catch(err=>{console.error('Error fetching book:',err);setError('Book not found');});},[id]);const handleChange=e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));};const handleSubmit=e=>{e.preventDefault();axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/books/\").concat(id),formData)// Use environment variable\n.then(()=>navigate('/'))// Redirect after successful update\n.catch(err=>{console.error('Update error:',err);setError('Error updating book');});};if(error)return/*#__PURE__*/_jsx(\"p\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Edit Book\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",value:formData.title,onChange:handleChange,className:\"w-full border p-2 rounded\",placeholder:\"Title\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"author\",value:formData.author,onChange:handleChange,className:\"w-full border p-2 rounded\",placeholder:\"Author\",required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:formData.status,onChange:handleChange,className:\"w-full border p-2 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"To Read\",children:\"To Read\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Reading\",children:\"Reading\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finished\",children:\"Finished\"})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleChange,className:\"w-full border p-2 rounded\",placeholder:\"Notes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",children:\"Save Changes\"})]})]});}export default BookEdit;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","BookEdit","id","navigate","formData","setFormData","title","author","status","notes","error","setError","get","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","handleChange","e","prev","_objectSpread","target","name","value","handleSubmit","preventDefault","put","children","className","onSubmit","onChange","placeholder","required","type"],"sources":["/Users/ronaddriel/Documents/CMP 343/Final Project/book-tracker/front-end/src/components/EditBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction BookEdit() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    status: '',\n    notes: ''\n  });\n\n  const [error, setError] = useState('');\n\n  // Fetch the book data to edit\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/books/${id}`) // Use environment variable\n      .then((res) => {\n        setFormData(res.data); // Populate the form with the book data\n      })\n      .catch((err) => {\n        console.error('Error fetching book:', err);\n        setError('Book not found');\n      });\n  }, [id]);\n\n  const handleChange = (e) => {\n    setFormData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/books/${id}`, formData) // Use environment variable\n      .then(() => navigate('/')) // Redirect after successful update\n      .catch((err) => {\n        console.error('Update error:', err);\n        setError('Error updating book');\n      });\n  };\n\n  if (error) return <p>{error}</p>;\n\n  return (\n    <div className=\"p-4 max-w-md mx-auto\">\n      <h2 className=\"text-xl font-bold mb-4\">Edit Book</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          name=\"title\"\n          value={formData.title}\n          onChange={handleChange}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"Title\"\n          required\n        />\n        <input\n          name=\"author\"\n          value={formData.author}\n          onChange={handleChange}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"Author\"\n          required\n        />\n        <select\n          name=\"status\"\n          value={formData.status}\n          onChange={handleChange}\n          className=\"w-full border p-2 rounded\"\n        >\n          <option value=\"To Read\">To Read</option>\n          <option value=\"Reading\">Reading</option>\n          <option value=\"Finished\">Finished</option>\n        </select>\n        <textarea\n          name=\"notes\"\n          value={formData.notes}\n          onChange={handleChange}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"Notes\"\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-blue-500 text-white p-2 rounded hover:bg-blue-600\"\n        >\n          Save Changes\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default BookEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}