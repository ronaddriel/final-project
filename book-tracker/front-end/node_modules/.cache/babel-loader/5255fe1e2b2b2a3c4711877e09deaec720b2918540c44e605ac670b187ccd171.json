{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Route,Routes,useLocation}from'react-router-dom';import AddBookForm from'./components/AddBookForm';import BookList from'./components/BookList';import axios from'axios';import EditBook from'./components/EditBook';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[books,setBooks]=useState([]);// Fetch books from the backend\nuseEffect(()=>{fetchBooks();},[]);const fetchBooks=()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/books\")).then(res=>setBooks(res.data)).catch(err=>console.error(err));};const handleAddBook=newBook=>{// Add the new book to the list\nsetBooks(prevBooks=>[...prevBooks,newBook]);};const location=useLocation();// Get the current route\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Book Tracker App:\"}),location.pathname==='/'&&/*#__PURE__*/_jsx(AddBookForm,{onAddBook:handleAddBook}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(BookList,{books:books,fetchBooks:fetchBooks})}),/*#__PURE__*/_jsx(Route,{path:\"/edit/:id\",element:/*#__PURE__*/_jsx(EditBook,{})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","useLocation","AddBookForm","BookList","axios","EditBook","jsx","_jsx","jsxs","_jsxs","App","books","setBooks","fetchBooks","get","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","error","handleAddBook","newBook","prevBooks","location","style","padding","children","pathname","onAddBook","path","element"],"sources":["/Users/ronaddriel/Documents/CMP 343/Final Project/book-tracker/front-end/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Route, Routes, useLocation } from 'react-router-dom';\nimport AddBookForm from './components/AddBookForm';\nimport BookList from './components/BookList';\nimport axios from 'axios';\nimport EditBook from './components/EditBook';\n\nconst App = () => {\n  const [books, setBooks] = useState([]);\n\n  // Fetch books from the backend\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const fetchBooks = () => {\n    axios\n    .get(`${process.env.REACT_APP_API_URL}/books`)\n      .then((res) => setBooks(res.data))\n      .catch((err) => console.error(err));\n  };\n\n  const handleAddBook = (newBook) => {\n    // Add the new book to the list\n    setBooks((prevBooks) => [...prevBooks, newBook]);\n  };\n\n  const location = useLocation(); // Get the current route\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h1>Book Tracker App:</h1>\n      {/* Render AddBookForm only on the main page */}\n      {location.pathname === '/' && <AddBookForm onAddBook={handleAddBook} />}\n      <hr />\n      <Routes>\n        {/* Main page with the book list */}\n        <Route\n          path=\"/\"\n          element={<BookList books={books} fetchBooks={fetchBooks} />}\n        />\n        {/* Route for editing a book */}\n        <Route path=\"/edit/:id\" element={<EditBook />} />\n      </Routes>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACAC,SAAS,CAAC,IAAM,CACde,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAGA,CAAA,GAAM,CACvBT,KAAK,CACJU,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,UAAQ,CAAC,CAC3CC,IAAI,CAAEC,GAAG,EAAKR,QAAQ,CAACQ,GAAG,CAACC,IAAI,CAAC,CAAC,CACjCC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAED,KAAM,CAAAG,aAAa,CAAIC,OAAO,EAAK,CACjC;AACAf,QAAQ,CAAEgB,SAAS,EAAK,CAAC,GAAGA,SAAS,CAAED,OAAO,CAAC,CAAC,CAClD,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAAE;AAEhC,mBACEQ,KAAA,QAAKqB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC9BzB,IAAA,OAAAyB,QAAA,CAAI,mBAAiB,CAAI,CAAC,CAEzBH,QAAQ,CAACI,QAAQ,GAAK,GAAG,eAAI1B,IAAA,CAACL,WAAW,EAACgC,SAAS,CAAER,aAAc,CAAE,CAAC,cACvEnB,IAAA,QAAK,CAAC,cACNE,KAAA,CAACT,MAAM,EAAAgC,QAAA,eAELzB,IAAA,CAACR,KAAK,EACJoC,IAAI,CAAC,GAAG,CACRC,OAAO,cAAE7B,IAAA,CAACJ,QAAQ,EAACQ,KAAK,CAAEA,KAAM,CAACE,UAAU,CAAEA,UAAW,CAAE,CAAE,CAC7D,CAAC,cAEFN,IAAA,CAACR,KAAK,EAACoC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE7B,IAAA,CAACF,QAAQ,GAAE,CAAE,CAAE,CAAC,EAC3C,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}